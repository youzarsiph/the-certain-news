{% extends 'tcn/base.html' %}{% load i18n wagtailcore_tags %}

<!---->
{% block title %}{{ block.super }} | {{ index.title }}{% endblock %}

<!---->
{% block languages %}
<!---->
{% include 'tcn/components/lang_switch.html' %}
<!---->
{% endblock %}

<!---->
{% block content %}
<section class="grid gap-8">
  {% include 'tcn/components/breadcrumbs.html' %}

  <div class="container-prose">
    <h1>{{ index.title }}</h1>

    {{ index.description|richtext }}
  </div>

  <ol
    class="menu menu-xs size-full gap-4 sm:menu-sm md:menu-md lg:menu-horizontal lg:grid lg:grid-cols-12"
  >
    {% for category in index.get_children.specific %}
    <li
      class="p-1 border border-base-300 rounded-box md:p-2 lg:p-4 lg:col-span-6"
    >
      <a href="{% pageurl category %}" class="font-bold">
        {{ category.title }}
      </a>
      <ul>
        {% for art in category.get_ordered_children.live.specific|slice:':3' %}
        <li>
          <a href="{{ art.short_link }}">
            {% if art.is_breaking %}
            <span
              class="tooltip flex tooltip-error"
              data-tip="{% trans 'Breaking' %}"
            >
              <span class="inline-grid *:[grid-area:1/1]">
                <span class="sr-only">{% trans 'Breaking' %}</span>
                <span class="status status-xl status-error animate-ping"></span>
                <span class="status status-xl status-error"></span>
              </span>
            </span>
            {% endif %}{{ art.title }}
          </a>
        </li>
        {% endfor %}
      </ul>
    </li>
    {% endfor %}
  </ol>
</section>
{% endblock %}
